import{r as e,R as o}from"./vendor-DeShHRvC.js";const r=e.createContext(null);function c({clientId:c,nonce:n,onScriptLoadSuccess:t,onScriptLoadError:s,children:u}){const d=function(o={}){const{nonce:r,onScriptLoadSuccess:c,onScriptLoadError:n}=o,[t,s]=e.useState(!1),u=e.useRef(c);u.current=c;const d=e.useRef(n);return d.current=n,e.useEffect(()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=r,e.onload=()=>{var e;s(!0),null===(e=u.current)||void 0===e||e.call(u)},e.onerror=()=>{var e;s(!1),null===(e=d.current)||void 0===e||e.call(d)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[r]),t}({nonce:n,onScriptLoadSuccess:t,onScriptLoadError:s}),a=e.useMemo(()=>({clientId:c,scriptLoadedSuccessfully:d}),[c,d]);return o.createElement(r.Provider,{value:a},u)}export{c as G};
