// ============================================================================
// PAGE TRANSITION ANIMATIONS - GRADIENT PORTAL EFFECT
// ============================================================================

@import './variables.scss';

// ===== GRADIENT PORTAL ANIMATION =====
// Premium cyan gradient sweeps across screen as next page zooms in

@keyframes portalSweep {
  0% {
    // Gradient starts from top-left, covering nothing
    background: linear-gradient(
      135deg,
      transparent 0%,
      transparent 50%,
      transparent 100%
    );
    clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
  }
  50% {
    // Gradient reaches the middle, sweeping diagonally
    background: linear-gradient(
      135deg,
      #06b6d4 0%,
      #3b82f6 50%,
      transparent 100%
    );
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
  100% {
    // Gradient completes the sweep, filling entire viewport
    background: linear-gradient(
      135deg,
      #3b82f6 0%,
      #06b6d4 50%,
      #06b6d4 100%
    );
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
  }
}

@keyframes pageExitFade {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  100% {
    opacity: 0.3;
    transform: scale(0.98);
  }
}

@keyframes pageEnterZoom {
  0% {
    opacity: 0;
    transform: scale(0.95);
    filter: blur(8px);
  }
  100% {
    opacity: 1;
    transform: scale(1);
    filter: blur(0);
  }
}

@keyframes portalGlow {
  0%, 100% {
    box-shadow: inset 0 0 40px rgba(6, 182, 212, 0.2),
                0 0 60px rgba(6, 182, 212, 0.1);
  }
  50% {
    box-shadow: inset 0 0 60px rgba(6, 182, 212, 0.4),
                0 0 100px rgba(6, 182, 212, 0.2);
  }
}

// ===== PAGE TRANSITION OVERLAY =====

.page-transition-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 2000;
  pointer-events: none;
  background: linear-gradient(
    135deg,
    #06b6d4 0%,
    #3b82f6 50%,
    #06b6d4 100%
  );
  animation: portalSweep 800ms cubic-bezier(0.34, 1.56, 0.64, 1) forwards;

  &.active {
    pointer-events: auto;
  }
}

// ===== PAGE EXIT ANIMATION =====

.page-exit {
  animation: pageExitFade 400ms $easing-ease-out forwards;
}

// ===== PAGE ENTER ANIMATION =====

.page-enter {
  animation: pageEnterZoom 500ms cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

// ===== PORTAL GLOW EFFECT ON TRANSITION OVERLAY =====

.portal-glow {
  animation: portalGlow 2000ms ease-in-out infinite;
}

// ===== LAYOUT TRANSITION CONTAINER =====

.transition-wrapper {
  position: relative;
  width: 100%;
  min-height: 100vh;

  &.transitioning {
    overflow: hidden;
  }
}

// ===== SMOOTH ROUTE TRANSITIONS =====

.route-content {
  transition: opacity 300ms $easing-ease-out,
              filter 300ms $easing-ease-out;

  &.transitioning-out {
    opacity: 0.3;
    filter: blur(4px);
  }

  &.transitioning-in {
    opacity: 1;
    filter: blur(0);
  }
}
